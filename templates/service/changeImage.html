{%load static %}

<!DOCTYPE HTML>
<!--
	Forty by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>Landing - Forty by HTML5 UP</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="{% static 'forty/assets/css/main.css' %}" />
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<noscript>
		<link rel="stylesheet" href="{% static 'forty/assets/css/noscript.css' %}" />
	</noscript>
</head>

<script>
	var formData = new FormData();
	var returnCocktail;
	var howToMake;

	$(document).on('click', '#files_send', function () {
		console.log("완료버튼 눌렀다.")


		for (var i = 0; i < $('#photo_upload')[0].files.length; i++) {
			formData.append('uploadFile', $('#photo_upload')[0].files[i]);
		}


		$.ajax({
			url: '{% url 'changeImageAjax' %}',
			data: formData,
			processData: false,
			contentType: false,
			type: 'POST',
			success: function (data) {
				alert("이미지 업로드 성공");
			}
		});

	});

</script>

<body class="is-preload">

	<!-- Wrapper -->
	<div id="wrapper">

		<!-- Header -->
		<header id="header" class="alt">
			<a href="/service/" class="logo"><strong>Cocktail</strong></a>

			<nav>
				<a href="#menu">Menu</a>
			</nav>
		</header>


		<!-- Menu -->
		<nav id="menu">
			<ul class="links">
				<li><a href="../cluster/">Find Similar Cocktail</a></li>
				<li><a href="../ingredient/">Ingredients based Search</a></li>
				<li><a href="../image/">Image Search</a></li>
				<li><a href="../changeImage/">Image Changer</a></li>
			</ul>
			<ul class="actions stacked">
				<li><a href="../" class="button primary fit">Go to Front page</a></li>
				<li><a href="../.." class="button fit">Log In</a></li>
			</ul>
		</nav>

		<!-- Banner -->
		<!-- Note: The "styleN" class below should match that of the header element. -->
		<section id="banner" class="style2">
			<div class="inner">
				<span class="image">
					<img src="images/pic07.jpg" alt="" />
				</span>
				<header class="major">
					<h1>Change Image</h1>
				</header>
				<div class="content">
					<p>Lorem ipsum dolor sit amet nullam consequat<br />
						sed veroeros. tempus adipiscing nulla.</p>
				</div>
			</div>
		</section>

		<!-- Main -->
		<div id="main">

			<!-- One -->
			<section id="one">
				<div class="inner">
					<header class="major">
						<h2>이미지 업로드</h2>
					</header>

					<form id="ajaxform" method="post" enctype="multipart/form-data">
						{% csrf_token %}
						<input type="file" multiple id="photo_upload">
						<output id="list"></output>
						<input type="button" value="완료" id="files_send">
					</form>



				</div>
			</section>

			<!-- Two -->
			<section id="two" class="spotlights">
				<section>
					<a href="generic.html" class="image">
						<img src="images/pic08.jpg" alt="" data-position="center center" />
					</a>
					<div class="content">
						<div class="inner">
							<header class="major">
								<h3>이미지 다운로드</h3>
							</header>

							<form action="{% url 'downloadFile'  %}">
								<button type="submit">다운로드</button>
							</form>


						</div>
					</div>
				</section>

				</footer>

		</div>

		<!-- Scripts -->
		<script src="{% static 'forty/assets/js/jquery.min.js' %}"></script>
		<script src="{% static 'forty/assets/js/jquery.scrolly.min.js' %}"></script>
		<script src="{% static 'forty/assets/js/jquery.scrollex.min.js' %}"></script>
		<script src="{% static 'forty/assets/js/browser.min.js' %}"></script>
		<script src="{% static 'forty/assets/js/breakpoints.min.js' %}"></script>
		<script src="{% static 'forty/assets/js/util.js' %}"></script>
		<script src="{% static 'forty/assets/js/main.js' %}"></script>

</body>

</html>